<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>박서우의 첫 번째 생일에 초대합니다</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script src="https://developers.kakao.com/sdk/js/kakao.min.js"></script>
    
    <!-- =================================================================== -->
    <!-- 중요! 여기에 발급받으신 네이버 지도 Client ID를 넣어주세요! -->
    <!-- 'YOUR_CLIENT_ID' 부분을 아버님의 ID로 교체하시면 됩니다. -->
    <!-- =================================================================== -->
    <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=fmkjw0jj64&submodules=geocoder"></script>
    
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #F8F7F5; }
        .font-gowun { font-family: 'Gowun Dodum', sans-serif; }
        .invitation-container { max-width: 700px; margin: 0 auto; background-color: #FFFFFF; box-shadow: 0 10px 40px rgba(0,0,0,0.08); overflow: hidden; }
        .reveal { position: relative; transform: translateY(100px); opacity: 0; transition: 1s all ease; }
        .reveal.active { transform: translateY(0); opacity: 1; }
        .section-title { display: inline-block; letter-spacing: 2px; color: #333; }
        .section-title::after { content: ''; display: block; width: 100%; height: 1px; background-color: #D4C4B3; margin-top: 12px; }
        .music-player { position: fixed; bottom: 20px; right: 20px; z-index: 1000; background-color: rgba(0, 0, 0, 0.6); color: white; border-radius: 50%; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.3); }
        .music-player.playing .fa-play { display: none; }
        .music-player:not(.playing) .fa-pause { display: none; }
        .d-day-box { background-color: rgba(0,0,0,0.2); backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.1); }
        
        /* 갤러리 그리드 & 모달 */
        .gallery-img { cursor: pointer; transition: transform 0.3s ease, box-shadow 0.3s ease; }
        .gallery-img:hover { transform: scale(1.05); box-shadow: 0 8px 15px rgba(0,0,0,0.1); }
        .modal { position: fixed; z-index: 1001; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.9); display: none; align-items: center; justify-content: center; }
        .modal-content { margin: auto; display: block; max-width: 80%; max-height: 80%; }
        .modal-close { position: absolute; top: 25px; right: 35px; color: #f1f1f1; font-size: 40px; font-weight: bold; transition: 0.3s; }
        .modal-close:hover, .modal-close:focus { color: #bbb; text-decoration: none; cursor: pointer; }

    </style>
</head>
<body class="pt-8 pb-8 sm:pt-12 sm:pb-12">

    <div class="invitation-container">
        <!-- 메인 섹션 -->
        <section class="relative text-center h-[90vh] flex flex-col justify-between items-center text-white reveal">
            <div class="absolute inset-0 bg-black opacity-20 z-10"></div>
            <img src="https://i.postimg.cc/8C6Vh0c0/Kakao-Talk-20250702-213838564.jpg" alt="박서우 아기 돌사진" class="absolute inset-0 w-full h-full object-cover">
            <div class="relative z-20 p-8 pt-16 w-full"><p class="font-gowun text-xl">첫 번째 생일</p><h1 class="font-gowun text-5xl sm:text-6xl font-bold my-4 tracking-wider">박서우</h1><div class="w-12 h-px bg-white mx-auto my-6"></div><p class="text-lg">2025년 8월 2일 토요일, 오후 6시</p><p class="mt-1">우방드림시티 상가 3층</p></div>
            <div id="d-day-counter" class="relative z-20 p-4 mb-8 rounded-lg d-day-box text-lg font-gowun w-11/12 max-w-md"></div>
        </section>

        <!-- 초대글 -->
        <section class="py-20 px-6 text-center reveal">
            <h2 class="font-gowun text-2xl section-title">초대합니다</h2>
            <p class="mt-10 text-gray-600 leading-loose">사랑 안에서 예쁜 이름으로 불린 지<br>어느덧 일 년이라는 시간이 흘러<br>저희의 보물, 서우가 첫 생일을 맞았습니다.<br><br>조그마한 손짓 하나, 작은 미소 하나에도<br>세상을 다 가진 듯 기쁘고 행복했습니다.<br><br>서우가 내딛는 첫걸음에<br>소중한 분들을 모시고자 하오니<br>귀한 걸음 하시어 자리를 빛내주시길 바랍니다.</p>
            <div class="mt-12 text-lg font-bold text-gray-800"><p>아빠 박용호 & 엄마 천은희 올림</p></div>
        </section>
        
        <!-- 아기 프로필 -->
        <section class="py-20 px-6 bg-gray-50 text-center reveal">
            <h2 class="font-gowun text-2xl section-title">사랑스러운 서우</h2>
            <div class="mt-10 max-w-md mx-auto bg-white p-8 rounded-lg shadow-sm">
                <div class="flex items-center justify-center space-x-4">
                    <i class="fas fa-star text-yellow-400 text-2xl"></i>
                    <p class="text-xl font-semibold">박서우</p>
                    <i class="fas fa-star text-yellow-400 text-2xl"></i>
                </div>
                <p class="mt-4 text-gray-600">
                    "밝을 <strong class="font-semibold">서</strong>, 높일 <strong class="font-semibold">우</strong>"<br>
                    세상을 밝게 비추는 사람,<br>
                    스스로의 가치를 높이는 사람으로 자라길 바라는<br>
                    마음을 담았습니다.
                </p>
                <p class="mt-6 text-gray-500">2024년 8월 2일, 3.17kg</p>
            </div>
        </section>

        <!-- 갤러리 (그리드) -->
        <section class="py-20 px-6 bg-gray-50 reveal">
            <h2 class="font-gowun text-2xl text-center section-title">서우의 작은 갤러리</h2>
            <p class="text-center text-gray-500 mt-4">사진을 클릭하면 크게 보실 수 있습니다.</p>
            <div id="gallery-grid" class="grid grid-cols-3 gap-2 md:gap-4 mt-10 max-w-3xl mx-auto">
                <img src="https://i.postimg.cc/CKn5tZpV/Kakao-Talk-20250704-114917880.jpg" alt="갤러리 사진 1" class="gallery-img w-full h-auto aspect-square object-cover rounded-md shadow-sm">
                <img src="https://i.postimg.cc/Y919rJSn/Kakao-Talk-20250704-114917880-01.jpg" alt="갤러리 사진 2" class="gallery-img w-full h-auto aspect-square object-cover rounded-md shadow-sm">
                <img src="https://i.postimg.cc/KjxYRJkZ/Kakao-Talk-20250704-114917880-02.jpg" alt="갤러리 사진 3" class="gallery-img w-full h-auto aspect-square object-cover rounded-md shadow-sm">
                <img src="https://i.postimg.cc/15Wz309Q/Kakao-Talk-20250704-114917880-03.jpg" alt="갤러리 사진 4" class="gallery-img w-full h-auto aspect-square object-cover rounded-md shadow-sm">
                <img src="https://i.postimg.cc/Z52KrTBs/Kakao-Talk-20250704-114917880-04.jpg" alt="갤러리 사진 5" class="gallery-img w-full h-auto aspect-square object-cover rounded-md shadow-sm">
                <img src="https://i.postimg.cc/SspSvDGW/Kakao-Talk-20250704-114917880-05.jpg" alt="갤러리 사진 6" class="gallery-img w-full h-auto aspect-square object-cover rounded-md shadow-sm">
                <img src="https://i.postimg.cc/xTF020Rj/Kakao-Talk-20250704-114917880-06.jpg" alt="갤러리 사진 7" class="gallery-img w-full h-auto aspect-square object-cover rounded-md shadow-sm">
                <img src="https://i.postimg.cc/XYGnNTHf/Kakao-Talk-20250704-114917880-07.jpg" alt="갤러리 사진 8" class="gallery-img w-full h-auto aspect-square object-cover rounded-md shadow-sm">
                <img src="https://i.postimg.cc/LsjRLjMh/Kakao-Talk-20250704-114917880-08.jpg" alt="갤러리 사진 9" class="gallery-img w-full h-auto aspect-square object-cover rounded-md shadow-sm">
            </div>
        </section>
        
        <!-- 갤러리 모달 -->
        <div id="gallery-modal" class="modal">
            <span class="modal-close">&times;</span>
            <img class="modal-content" id="modal-image">
        </div>
        
        <!-- 오시는 길 -->
        <section class="py-20 px-6 text-center reveal">
            <h2 class="font-gowun text-2xl section-title">오시는 길</h2>
            <div class="mt-10 text-gray-700"><p class="text-xl font-semibold">2025년 8월 2일 토요일, 오후 6시</p><p class="mt-2 text-lg">대구광역시 달서구 감삼동 521, 우방드림시티 상가 3층</p></div>
            <!-- 네이버 지도가 표시될 영역 -->
            <div id="map" class="mt-8 shadow-md rounded-lg overflow-hidden w-full h-80 max-w-xl mx-auto"></div>
            <div class="mt-6 flex justify-center">
                <a href="https://map.kakao.com/link/to/우방드림시티,35.845595,128.536660" target="_blank" class="w-full max-w-xs text-center py-3 rounded-lg bg-yellow-400 text-black font-bold shadow-sm hover:bg-yellow-500 transition-colors">카카오내비 바로가기</a>
            </div>
        </section>
        
        <!-- 마음 전하실 곳 -->
        <section class="py-20 px-6 bg-gray-50 text-center reveal">
            <h2 class="font-gowun text-2xl section-title">마음 전하실 곳</h2>
            <p class="mt-10 text-gray-600 leading-relaxed">참석이 어려우시더라도 축하해주시는<br>따뜻한 마음 감사히 받겠습니다.</p>
            <div class="space-y-6 mt-8 max-w-sm mx-auto"><div class="bg-white p-5 rounded-lg shadow-sm border border-gray-200"><p class="font-semibold text-gray-800">아빠 박용호</p><p class="text-gray-600 mt-1">농협 352-0785-1088-23</p><button onclick="copyToClipboard('3520785108823', this)" class="mt-3 text-sm bg-gray-700 text-white px-4 py-1.5 rounded-full hover:bg-black transition-colors">계좌번호 복사</button></div><div class="bg-white p-5 rounded-lg shadow-sm border border-gray-200"><p class="font-semibold text-gray-800">엄마 천은희</p><p class="text-gray-600 mt-1">국민 910-4370-1210</p><button onclick="copyToClipboard('91043701210', this)" class="mt-3 text-sm bg-gray-700 text-white px-4 py-1.5 rounded-full hover:bg-black transition-colors">계좌번호 복사</button></div></div>
        </section>

        <!-- 공유하기 -->
        <section class="py-20 px-6 text-center reveal">
            <h2 class="font-gowun text-2xl section-title">초대장 공유하기</h2>
            <div class="mt-10 flex justify-center items-center gap-4">
                <button id="kakao-share-btn" class="bg-yellow-400 text-black font-bold py-3 px-6 rounded-lg flex items-center gap-2 shadow-md hover:bg-yellow-500 transition-colors"><i class="fas fa-comment"></i>카카오톡 공유</button>
                <button onclick="copyUrl()" class="bg-gray-200 text-gray-800 font-bold py-3 px-6 rounded-lg flex items-center gap-2 shadow-md hover:bg-gray-300 transition-colors"><i class="fas fa-link"></i>링크 복사</button>
            </div>
        </section>

        <!-- Footer -->
        <footer class="text-center py-10 bg-white"><p class="text-gray-500">박서우의 첫 번째 생일에 함께해주셔서 감사합니다.</p></footer>
    </div>

    <!-- 음악 플레이어 -->
    <div id="music-player" class="music-player">
        <i class="fas fa-play"></i>
        <i class="fas fa-pause"></i>
    </div>
    <!-- 여기에 음악 파일 주소를 넣어주세요 -->
    <audio id="bg-music" loop>
        <source src="https://voca.ro/1bLDrxK4IxVl" type="audio/mpeg">
    </audio>

    <script>
        // --- 전역 함수 ---
        window.copyToClipboard = (text, buttonElement) => {
            navigator.clipboard.writeText(text).then(() => {
                const originalText = buttonElement.innerText;
                buttonElement.innerText = '복사 완료!';
                setTimeout(() => { buttonElement.innerText = originalText; }, 2000);
            });
        };
        window.copyUrl = () => {
            const copyButton = document.querySelector('button[onclick="copyUrl()"]');
            window.copyToClipboard(window.location.href, copyButton);
        };

        // --- 페이지 로드 후 실행 ---
        document.addEventListener('DOMContentLoaded', () => {
            // --- UI 초기화 ---
            function reveal() {
                document.querySelectorAll(".reveal").forEach(el => {
                    const windowHeight = window.innerHeight;
                    const elementTop = el.getBoundingClientRect().top;
                    if (elementTop < windowHeight - 100) el.classList.add("active");
                });
            }
            window.addEventListener("scroll", reveal);
            reveal();

            const dDayCounter = document.getElementById('d-day-counter');
            if (dDayCounter) {
                const eventDate = new Date("2025-08-02T18:00:00").getTime();
                const intervalId = setInterval(() => {
                    const now = new Date().getTime();
                    const distance = eventDate - now;
                    if (distance < 0) {
                        dDayCounter.innerHTML = "서우의 첫 생일을 축하합니다!";
                        clearInterval(intervalId);
                    } else {
                        const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                        const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                        const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                        const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                        dDayCounter.innerHTML = `서우의 첫 생일까지 <strong class="text-xl">${days}</strong>일 <strong class="text-xl">${hours}</strong>시간 <strong class="text-xl">${minutes}</strong>분 <strong class="text-xl">${seconds}</strong>초`;
                    }
                }, 1000);
            }
            
            // 갤러리 모달
            const galleryGrid = document.getElementById('gallery-grid');
            const modal = document.getElementById('gallery-modal');
            if (galleryGrid && modal) {
                const modalImg = document.getElementById('modal-image');
                const closeBtn = document.querySelector('.modal-close');

                galleryGrid.addEventListener('click', (e) => {
                    if (e.target.tagName === 'IMG') {
                        modal.style.display = "flex";
                        modalImg.src = e.target.src;
                    }
                });

                closeBtn.addEventListener('click', () => {
                    modal.style.display = "none";
                });

                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.style.display = "none";
                    }
                });
            }

            // --- 음악 자동 재생 및 컨트롤 ---
            const musicPlayer = document.getElementById('music-player');
            const bgMusic = document.getElementById('bg-music');
            if (musicPlayer && bgMusic) {
                const playPromise = bgMusic.play();
                if (playPromise !== undefined) {
                    playPromise.then(_ => {
                        musicPlayer.classList.add('playing');
                    }).catch(error => {
                        console.log('음악 자동 재생이 차단되었습니다.');
                    });
                }

                musicPlayer.addEventListener('click', () => {
                    if (bgMusic.paused) {
                        bgMusic.play().then(() => musicPlayer.classList.add('playing'));
                    } else {
                        bgMusic.pause();
                        musicPlayer.classList.remove('playing');
                    }
                });
            }

            // --- 네이버 지도 API ---
            const mapElement = document.getElementById('map');
            if (mapElement && window.naver && window.naver.maps) {
                const address = '대구광역시 달서구 감삼동 521';
                naver.maps.Service.geocode({ query: address }, function(status, response) {
                    if (status !== naver.maps.Service.Status.OK) {
                        mapElement.innerHTML = `<div class="p-4 text-center text-gray-500">지도를 불러오는 데 실패했습니다.</div>`;
                        return;
                    }

                    const result = response.v2.addresses[0];
                    const point = new naver.maps.Point(result.x, result.y);

                    const map = new naver.maps.Map('map', {
                        center: point,
                        zoom: 17,
                        zoomControl: true,
                        zoomControlOptions: { position: naver.maps.Position.TOP_RIGHT }
                    });

                    new naver.maps.Marker({
                        position: point,
                        map: map,
                        icon: {
                            content: `<div style="background-color: #ff4757; color: white; padding: 8px 12px; border-radius: 50px; font-size: 14px; font-weight: bold; box-shadow: 0 2px 5px rgba(0,0,0,0.3);">서우 첫돌❤️</div>`,
                            anchor: new naver.maps.Point(30, 45)
                        }
                    });
                });
            } else if (mapElement) {
                mapElement.innerHTML = `<div class="p-4 text-center text-gray-500">지도를 불러오려면 Client ID를 확인해주세요.</div>`;
            }

            // --- 카카오톡 공유 ---
            try {
                // !!! 중요: 아래 'YOUR_KAKAO_JAVASCRIPT_KEY' 부분에 발급받은 키를 넣어야 합니다.
                Kakao.init('b76b8f0d992c0945f6e5892602331da3');
                document.getElementById('kakao-share-btn').addEventListener('click', () => {
                    Kakao.Link.sendDefault({
                        objectType: 'feed',
                        content: {
                            title: '박서우의 첫 번째 생일에 초대합니다',
                            description: '2025년 8월 2일 (토) 오후 6시, 대구 달서구 감삼동 521, 3층',
                            imageUrl: 'https://i.postimg.cc/8C6Vh0c0/Kakao-Talk-20250702-213838564.jpg',
                            link: { mobileWebUrl: window.location.href, webUrl: window.location.href },
                        },
                        buttons: [{ title: '초대장 보러가기', link: { mobileWebUrl: window.location.href, webUrl: window.location.href } }]
                    });
                });
            } catch(e) {
                console.error("카카오 SDK 초기화 실패", e);
                const kakaoBtn = document.getElementById('kakao-share-btn');
                if(kakaoBtn) kakaoBtn.style.display = 'none';
            }
        });
    </script>
</body>
</html>